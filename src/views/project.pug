.body
    .topOne
        .divOne
            span 项目名称：
                Input(v-model="selectProjectName",clearable,style="width: 200px")
        .divOne
            span 选择公司：
                Input(v-model="selectOrganization",clearable,style="width: 200px")
        .divOne
            span 项目状态：
                Select(clearable,filterable,style="width:200px",v-model="selectStatus")
                    Option(v-for="item in getMenus()", :value="item.value",:key="item.value") {{item.name}}
        .search
            Button(@click="search()") 搜索
    .hr
    .button
        Button(type="primary", ghost, icon="ios-add-circle-outline",@click="addProject=!addProject") 新增项目
        Button(type="primary", ghost, icon="ios-log-in",@click="this.store.synchronization",v-if="this.roleName=='IT管理员'") 同步项目
        Button(type="primary", ghost, icon="ios-log-out",@click="this.store.upload") 导出项目信息
        Button(type="primary", ghost, icon="ios-log-out",@click="this.store.uploadPeople") 导出项目人员信息
    div
        p(:style="{fontSize: '16px',fontWeight: 'bold'}") 项目管理

    .bodyTwo
        Table(border, ref="selection", :columns="getColumns()", :data="getData()",
        @on-select="handleSelectRow",@on-select-all="handleSelectAll",
        @on-select-cancel="handleSelectRowCancel",@on-select-all-cancel="handleSelectAllCancel")
            template(slot-scope="{row, index }",slot="operation")
                template
                    Dropdown(trigger="click",@on-click = "change")
                        a(href="javascript:void(0)" :style={"font-size": "16px"})
                            span 详细操作
                            Icon(type="md-arrow-dropdown" )
                        DropdownMenu(slot="list")
                            DropdownItem(:name="'add_'+row.project_id")
                                Icon(type="ios-book-outline")
                                span 添加人员
                            DropdownItem(:name="'view_'+row.project_id")
                                Icon(type="ios-create-outline")
                                span 查看人员
    .footer
        Page(:total="totalRecords",show-sizer,show-elevator,show-total,@on-page-size-change="onPageSizeChange",@on-change="onPageIndexChange",:page-size=20)
        //div(class="selectedList")
        //    div(class="condition")
        //        span(:style="{fontSize: '16px',float: 'left',marginRight: '10px',paddingTop: '14px',color: '#789fef'}") 已选条件
        //    div(class="selectButton")
        //        div(class="reset") 重置
        //        div(class="inquire") 查询
        //div(class="selectedPullDown",v-if="pullDown")
        //    div(class="select")
        //        div(class="divSelect")
        //            div(class="selectTitle") 所属公司
        //            div(class="selectValue")
        //                Col(style="padding-right:10px")
        //                    Select(filterable,clearable)
        //div(class="pullDown",v-if="pullDown == false")
        //    img(src="~@/assets/css/images/下拉.png",@click="switchTo()")
        //div(class="pullDown",v-else)
        //    img(src="~@/assets/css/images/上拉.png",@click="switchTo()")
    div(class="button")
        Button(type="primary",ghost,icon="ios-add-circle-outline",@click="clickAddProject()") 新增项目
        Button(type="primary",ghost,icon="ios-add-circle-outline") 新增单位
        Button(type="primary",ghost,icon="ios-trash-outline") 删除
        Button(type="primary",ghost,icon="ios-cloud-upload-outline") 导出
    div
        div(class="projectLeft")
            Tree(:data="getProjectList()",:load-data="loadData",@on-select-change="treeChange")
        div(class="projectRight")
            div(v-if="showProject",class="table7")
                div
                    div(class = "table4")
                        div(class = "table5") 工程名称
                        div(class = "table6",:title="this.store.projectParticulars.project_name") {{this.store.projectParticulars.project_name}}
                    div(class = "table4")
                        div(class = "table5") 工程简介
                        div(class = "table6") {{this.store.projectParticulars.project_brief}}
                div
                    div(class = "table4")
                        div(class = "table5") 施工许可证
                        div(class = "table6") {{this.store.projectParticulars.builder_license}}
                    div(class = "table4")
                        div(class = "table5") 项目监督编号
                        div(class = "table6") {{this.store.projectParticulars.project_supervision}}
                div
                    div(class = "table4")
                        div(class = "table5") 开工时间
                        div(class = "table6") {{this.store.projectParticulars.start_time}}
                    div(class = "table4")
                        div(class = "table5") 竣工时间
                        div(class = "table6") {{this.store.projectParticulars.end_time}}
                div
                    div(class = "table4")
                        div(class = "table5") 项目地址
                        div(class = "table6") {{this.store.projectParticulars.project_address}}
                    div(class = "table4")
                        div(class = "table5") 状态
                        div(class = "table6",v-if="this.store.projectParticulars.status == 1") 待开工
                        div(class = "table6",v-if="this.store.projectParticulars.status == 2") 开工
                        div(class = "table6",v-if="this.store.projectParticulars.status == 3") 停工
                        div(class = "table6",v-if="this.store.projectParticulars.status == 4") 完工

    Modal(:value="addProject",title="新增项目",@on-ok="ok()",@on-cancel="cancel()",width='70%',:loading = "loading")
        .addBody
            .divTwo
                .name
                    span 项目名称
                    span(:style={'color': 'red'}) *
                .input
                    Input(clearable,style="width: 345px",size=large,v-model="projectName")
            .divTwo
                .name
                    span 项目简介
                    span(:style={'color': 'red'}) *
                .input
                    Input(type="textarea",clearable,style="width: 345px",size=large,v-model="projectBrief")
            .divTwo
                .name
                    span 施工许可证
                    span(:style={'color': 'red'})
                .input
                    Input(clearable,style="width: 345px",size=large,v-model="builderLicense")
            .divTwo
                .name
                    span 开工时间
                    span(:style={'color': 'red'}) *
                .input
                    template
                        Row
                            Col(span="12")
                                DatePicker(v-model="startTime",type="date",placeholder="请选择",style="width: 345px")
            .divTwo
                .name
                    span 合同竣工时间
                    span(:style={'color': 'red'}) *
                .input
                    template
                        Row
                            Col(span="12")
                                DatePicker(v-model="endTime",type="date",placeholder="请选择",style="width: 345px")
            .divTwo
                .name
                    span 建设单位
                    span(:style={'color': 'red'}) *
                .input
                    Input(clearable,style="width: 345px",size=large,v-model="construction")
            .divTwo
                .name
                    span 施工单位
                    span(:style={'color': 'red'}) *
                .input
                    Input(clearable,style="width: 345px",size=large,v-model="organization")
            .divTwo
                .name
                    span 监理单位
                    span(:style={'color': 'red'}) *
                .input
                    Input(clearable,style="width: 345px",size=large,v-model="supervising")
            //.divTwo
            //    .name
            //        span 项目地址
            //        span(:style={'color': 'red'}) *
            //    .input
            //        Input(clearable,style="width: 345px",size=large,v-model="projectAddress")
            .divTwo
                .name
                    span 项目状态
                    span(:style={'color': 'red'}) *
                .input
                    Select(clearable,filterable,style="width:345px", v-model="status")
                        Option(v-for="item in getMenus()", :value="item.value",:key="item.value") {{item.name}}
    Modal(:value="addPeoples",title="添加人员",@on-ok="okAdd()",@on-cancel="cancelAdd()",width='70%',:loading = "loading")
        .addBody
            .topOne2
                .divOne
                    span 姓名：
                        Input(v-model="selectUserName",clearable,style="width: 200px")
                .search
                    Button(@click="this.store.searchPeople") 搜索
            .bodyTwo2
                Table(border=false, ref="selection", :columns="getPeopleColumns()", :data="getPeopleData()",
                @on-select="handleSelectRowPeople",
                @on-select-cancel="handleSelectRowCancelPeople",
                @on-select-all="handleSelectAllPeople",
                @on-select-all-cancel="handleSelectAllCancelPeople")
    Modal(v-model="addProject",title="新增单位",@on-ok="addProjectOk",@on-cancel="addProjectCancel",width='60%',:transfer="false")
        div(class="modelBody")
            div
                div(class = "modelBody1")
                    div(class = "modelBody2") 所属上级
                    div(class = "modelBody3")
                        div(class="selectValue")
                            Col
                                Select(filterable,clearable)
                                    Option(v-for="item in getCompanyList()",:value="item.id",:key="item.id") {{ item.title}}

                    template(slot-scope="{row, index}",slot="workType")
                        Select(clearable,filterable,@on-change="selectChange",v-if="row.workType!=null")
                            Option(v-for="item in getUserWorkTypeMenus(row.workType)", :value="item.name+'_'+row.eafId",:key="item.name") {{item.name}}
                        Select(clearable,filterable,v-else,disabled,value="无")
                div(class = "modelBody1")
                    div(class = "modelBody2") 单位名称
                    div(class = "modelBody3")
                        div(class="selectValue")
                            Input(clearable,placeholder="请输入单位名称")
            div
                div(class = "modelBody1")
                    div(class = "modelBody2") 信用代码
                    div(class = "modelBody3")
                        div(class="selectValue")
                            Input(clearable,placeholder="请输入施工许可证")

                div(class = "modelBody1")
                    div(class = "modelBody2") 单位类型
                    div(class = "modelBody3")
                        div(class="selectValue")
                            Col
                                Select(filterable,clearable)
                                    Option(v-for="item in getUnitTypeList()",:value="item.id",:key="item.id") {{ item.name}}
            div
                div(class = "modelBody1")
                    div(class = "modelBody2") 法人代表
                    div(class = "modelBody3")
                        div(class="selectValue")
                            Input(clearable,placeholder="请输入法人代表")

                Page(:total="pageInTotal",show-elevator,show-total,
                @on-page-size-change="onPageSizeInChange",@on-change="onPageIndexInChange",:style={
                    'text-align': 'center',
                    'margin-top': '10px'
                })

    Modal(:value="viewPeoples",title="查看人员",@on-ok="okView()",@on-cancel="cancelView()",width='70%',:loading = "loading")
        .addBody
            Button(type="primary", ghost, icon="ios-log-out",@click="updatePeople()",:style="{'margin-bottom': '10px'}") 退场
            Table(border=false, ref="selection", :columns="getPeopleProjectColumns()", :data="getViewPeoples()",
            @on-select="handleSelectRowProject",
            @on-select-cancel="handleSelectRowCancelProject",
            @on-select-all="handleSelectAllProject",
            @on-select-all-cancel="handleSelectAllCancelProject")
            Page(:total="pageProjectTotal",show-elevator,show-total,
            @on-page-size-change="onPageSizeProjectChange",@on-change="onPageIndexProjectChange",:style={
                'text-align': 'center',
                'margin-top': '10px'
            })
    Modal(title="以下人员已在当前项目，请取消选中!",:value="viewProjectPeople",:styles="{top: '20px'}",@on-ok="okProjectPeople()",@on-cancel="cancelProjectPeople()",:loading = "loading")
        .divL
            .divCheck(v-for="item in this.noProjectPeople")
                p {{item.eafName}}
                div(class = "modelBody1")
                    div(class = "modelBody2") 单位地址
                    div(class = "modelBody3")
                        div(class="selectValue")
                            Input(clearable,placeholder="请输入单位地址")



















